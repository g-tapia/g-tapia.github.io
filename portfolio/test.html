<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Particle Effect</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    body {
      overflow: hidden;
      background-color: black;
      font-family: 'Comfortaa', cursive;
    }

    #wrapper {
      position: relative;
      height: 100vh;
      width: 100vw;
    }

    #canvas_container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      z-index: 0;
    }

    .text {
      width: 100%;
      height: 100px;
      text-align: center;
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      z-index: 10;
      color: white;
      background-color: rgba(0, 0, 0, 0.81);
      font-size: 1.6rem;
      display: flex;
      align-items: center;
    }

    .text .quoteText {
      width: 85%;
      margin: 0 auto;
    }

    .clickInfo {
      width: 100%;
      text-align: center;
      position: absolute;
      left: 0;
      top: -80px;
      z-index: 11;
      color: #F9B31C;
      background-color: rgba(23, 23, 23, 0.9);
      padding: 10px 0;
      font-size: 20px;
    }

    .btn {
      position: absolute;
      bottom: 5%;
      right: 0px;
      transform: translateX(-50%);
      border: 1px solid white;
      border-radius: 5px;
      font-size: 0.9rem;
      padding: 0.5rem 0.7em;
      background: transparent;
      color: #F9B31C;
      font-weight: 700;
      cursor: pointer;
      z-index: 11;
    }

    .btn:hover {
      background: white;
      color: black;
    }
  </style>
</head>
<body>
  <div id="wrapper">
    <div id="canvas_container"></div>

    <div class="text">
      <p class="quoteText">“ Never memorize something that you can look up.”<br>
        <span style="font-style: italic; font-size: 1.4rem; color:#ED760D">#Stack Overflow</span>
      </p>
    </div>

    <p class="clickInfo">Click anywhere to start your journey</p>

    <button class="btn" id="fullscr">Go Fullscreen</button>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>

  <script>
    let webgl = {};

    // Quotes
    const quotes = [
      "“ Never memorize something that you can look up.”",
      "“ Creativity is intelligence having fun.”",
      "“ The best way to predict the future is to invent it.”",
      "“ Simplicity is the ultimate sophistication.”"
    ];

    let currentQuoteIndex = 0;

    function updateQuote() {
      const quoteText = document.querySelector(".quoteText");
      gsap.to(quoteText, { opacity: 0, duration: 0.5, onComplete: () => {
        quoteText.innerHTML = `${quotes[currentQuoteIndex]}<br>
        <span style="font-style: italic; font-size: 1.4rem; color:#ED760D">#Stack Overflow</span>`;
        gsap.to(quoteText, { opacity: 1, duration: 0.5 });
      }});

      // Cycle through quotes
      currentQuoteIndex = (currentQuoteIndex + 1) % quotes.length;
    }

    function initThree() {
      webgl.container = document.getElementById("canvas_container");

      // Scene
      webgl.scene = new THREE.Scene();
      
      // Camera
      webgl.camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 10000);
      webgl.camera.position.z = 300;

      // Renderer
      webgl.renderer = new THREE.WebGLRenderer({ alpha: true });
      webgl.renderer.setSize(window.innerWidth, window.innerHeight);
      webgl.container.appendChild(webgl.renderer.domElement);

      // Geometry and particles
      initParticles();
    }

    function initParticles() {
      const particleCount = 2000;
      const geometry = new THREE.BufferGeometry();
      const positions = new Float32Array(particleCount * 3);
      const velocities = new Float32Array(particleCount * 3);

      for (let i = 0; i < particleCount; i++) {
        positions[i * 3] = (Math.random() - 0.5) * 1000;
        positions[i * 3 + 1] = (Math.random() - 0.5) * 1000;
        positions[i * 3 + 2] = (Math.random() - 0.5) * 1000;

        velocities[i * 3] = (Math.random() - 0.5) * 0.01;
        velocities[i * 3 + 1] = (Math.random() - 0.5) * 0.01;
        velocities[i * 3 + 2] = (Math.random() - 0.5) * 0.01;
      }

      geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
      geometry.setAttribute('velocity', new THREE.BufferAttribute(velocities, 3));

      const material = new THREE.PointsMaterial({
        color: 0xffffff,
        size: 2
      });

      webgl.particles = new THREE.Points(geometry, material);
      webgl.scene.add(webgl.particles);
    }

    function animateParticles() {
      const positions = webgl.particles.geometry.attributes.position.array;
      const velocities = webgl.particles.geometry.attributes.velocity.array;

      for (let i = 0; i < positions.length; i += 3) {
        positions[i] += velocities[i] * 100;
        positions[i + 1] += velocities[i + 1] * 100;
        positions[i + 2] += velocities[i + 2] * 100;

        if (positions[i] > 500 || positions[i] < -500) velocities[i] = -velocities[i];
        if (positions[i + 1] > 500 || positions[i + 1] < -500) velocities[i + 1] = -velocities[i + 1];
        if (positions[i + 2] > 500 || positions[i + 2] < -500) velocities[i + 2] = -velocities[i + 2];
      }

      webgl.particles.geometry.attributes.position.needsUpdate = true;
    }

    function animate() {
      webgl.renderer.render(webgl.scene, webgl.camera);
      animateParticles();
      requestAnimationFrame(animate);
    }

    // Fullscreen functionality
    let fsEnter = document.getElementById('fullscr');
    fsEnter.addEventListener('click', function(e) {
      e.preventDefault();
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen();
        fsEnter.innerHTML = "Exit Fullscreen";
      } else {
        document.exitFullscreen();
        fsEnter.innerHTML = "Go Fullscreen";
      }
    });

    document.getElementById("wrapper").addEventListener("click", updateQuote);

    window.addEventListener('resize', () => {
      webgl.camera.aspect = window.innerWidth / window.innerHeight;
      webgl.camera.updateProjectionMatrix();
      webgl.renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // Initialize and start animation loop
    initThree();
    animate();

  </script>
</body>
</html>
